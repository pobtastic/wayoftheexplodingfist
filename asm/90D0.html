<!DOCTYPE html>
<html>
<head>
<title>The Way Of The Exploding Fist: Routine at 90D0</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="909E.html">909E</a>
</td>
<td class="up">Up: <a href="../maps/all.html#90d0">Map</a></td>
<td class="next">
Next: <a href="9200.html">9200</a>
</td>
</tr>
</table>
<div class="description">90D0: Intro music.</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="90d0"></span>90D0</td>
<td class="instruction">DEFB $1D</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="90d1"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="AC3E.html">AC3E</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="90d1"></span>90D1</td>
<td class="instruction">DI</td>
<td class="comment-1" rowspan="1">Disable interrupts.</td>
</tr>
<tr>
<td class="address-1"><span id="90d2"></span>90D2</td>
<td class="instruction">LD A,($B2FA)</td>
<td class="comment-1" rowspan="3">If <a href="B2FA.html">B2FA</a> is zero then return.</td>
</tr>
<tr>
<td class="address-1"><span id="90d5"></span>90D5</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="address-1"><span id="90d6"></span>90D6</td>
<td class="instruction">RET Z</td>
</tr>
<tr>
<td class="address-1"><span id="90d7"></span>90D7</td>
<td class="instruction">LD A,($90D0)</td>
<td class="comment-1" rowspan="1"><a href="90D0.html">90D0</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="90da"></span>90DA</td>
<td class="instruction">AND $1F</td>
<td class="comment-1" rowspan="1">Check bits 0-4.</td>
</tr>
<tr>
<td class="address-1"><span id="90dc"></span>90DC</td>
<td class="instruction">LD H,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="90dd"></span>90DD</td>
<td class="instruction">AND $07</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="90df"></span>90DF</td>
<td class="instruction">LD L,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="90e0"></span>90E0</td>
<td class="instruction">LD IX,$9128</td>
<td class="comment-1" rowspan="1"><span class="register">IX</span>=<a href="90D0.html#9128">9128</a></td>
</tr>
<tr>
<td class="address-2"><span id="90e4"></span>90E4</td>
<td class="instruction">LD C,(IX+$00)</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=the next note byte from <span class="register">IX</span>+$00.</td>
</tr>
<tr>
<td class="address-1"><span id="90e7"></span>90E7</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="3">If the current note is $00 then return.</td>
</tr>
<tr>
<td class="address-1"><span id="90e8"></span>90E8</td>
<td class="instruction">OR C</td>
</tr>
<tr>
<td class="address-1"><span id="90e9"></span>90E9</td>
<td class="instruction">RET Z</td>
</tr>
<tr>
<td class="address-1"><span id="90ea"></span>90EA</td>
<td class="instruction">INC IX</td>
<td class="comment-1" rowspan="1">Move the index onto the next note.</td>
</tr>
<tr>
<td class="address-1"><span id="90ec"></span>90EC</td>
<td class="instruction">LD B,(IX+$00)</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=the next note byte from <span class="register">IX</span>+$00.</td>
</tr>
<tr>
<td class="address-1"><span id="90ef"></span>90EF</td>
<td class="instruction">INC IX</td>
<td class="comment-1" rowspan="1">Move the index onto the next note.</td>
</tr>
<tr>
<td class="address-1"><span id="90f1"></span>90F1</td>
<td class="instruction">LD E,(IX+$00)</td>
<td class="comment-1" rowspan="1"><span class="register">E</span>=the next note byte from <span class="register">IX</span>+$00.</td>
</tr>
<tr>
<td class="address-1"><span id="90f4"></span>90F4</td>
<td class="instruction">INC IX</td>
<td class="comment-1" rowspan="1">Move the index onto the next note.</td>
</tr>
<tr>
<td class="address-1"><span id="90f6"></span>90F6</td>
<td class="instruction">LD D,(IX+$00)</td>
<td class="comment-1" rowspan="1"><span class="register">D</span>=the next note byte from <span class="register">IX</span>+$00.</td>
</tr>
<tr>
<td class="address-1"><span id="90f9"></span>90F9</td>
<td class="instruction">INC IX</td>
<td class="comment-1" rowspan="1">Move the index onto the next note.</td>
</tr>
<tr>
<td class="address-1"><span id="90fb"></span>90FB</td>
<td class="instruction">LD A,B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="90fc"></span>90FC</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="90fd"></span>90FD</td>
<td class="instruction">JR NZ,<a href="90D0.html#910d">$910D</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="90ff"></span>90FF</td>
<td class="instruction">INC A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9100"></span>9100</td>
<td class="instruction">CP C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9101"></span>9101</td>
<td class="instruction">JR NZ,<a href="90D0.html#910d">$910D</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9103"></span>9103</td>
<td class="instruction">LD BC,$0AF4</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="9106"></span>9106</td>
<td class="instruction">DEC BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9107"></span>9107</td>
<td class="instruction">LD A,B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9108"></span>9108</td>
<td class="instruction">OR C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9109"></span>9109</td>
<td class="instruction">JR NZ,<a href="90D0.html#9106">$9106</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="910b"></span>910B</td>
<td class="instruction">JR <a href="90D0.html#90e4">$90E4</a></td>
<td class="comment-1" rowspan="1">Loop back to <a href="90D0.html#90e4">90E4</a>.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="910d"></span>
<div class="comments">
<div class="paragraph">
Process the note data and create the sounds.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="910d"></span>910D</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="910e"></span>910E</td>
<td class="instruction">LD A,H</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="910f"></span>910F</td>
<td class="instruction">OUT ($FE),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="9111"></span>9111</td>
<td class="instruction">DEC BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9112"></span>9112</td>
<td class="instruction">LD A,B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9113"></span>9113</td>
<td class="instruction">OR C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9114"></span>9114</td>
<td class="instruction">JR NZ,<a href="90D0.html#9111">$9111</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9116"></span>9116</td>
<td class="instruction">LD A,L</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9117"></span>9117</td>
<td class="instruction">OUT ($FE),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9119"></span>9119</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="911a"></span>911A</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="911b"></span>911B</td>
<td class="instruction">DEC BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="911c"></span>911C</td>
<td class="instruction">LD A,B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="911d"></span>911D</td>
<td class="instruction">OR C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="911e"></span>911E</td>
<td class="instruction">JR NZ,<a href="90D0.html#911b">$911B</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9120"></span>9120</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9121"></span>9121</td>
<td class="instruction">DEC DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9122"></span>9122</td>
<td class="instruction">LD A,D</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9123"></span>9123</td>
<td class="instruction">OR E</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9124"></span>9124</td>
<td class="instruction">JR NZ,<a href="90D0.html#910d">$910D</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9126"></span>9126</td>
<td class="instruction">JR <a href="90D0.html#90e4">$90E4</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9128"></span>9128</td>
<td class="instruction">DEFB $6D,$00,$8C,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="912c"></span>912C</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9130"></span>9130</td>
<td class="instruction">DEFB $6D,$00,$8C,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9134"></span>9134</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9138"></span>9138</td>
<td class="instruction">DEFB $81,$00,$76,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="913c"></span>913C</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9140"></span>9140</td>
<td class="instruction">DEFB $81,$00,$76,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9144"></span>9144</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9148"></span>9148</td>
<td class="instruction">DEFB $90,$00,$69,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="914c"></span>914C</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9150"></span>9150</td>
<td class="instruction">DEFB $90,$00,$69,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9154"></span>9154</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9158"></span>9158</td>
<td class="instruction">DEFB $81,$00,$76,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="915c"></span>915C</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9160"></span>9160</td>
<td class="instruction">DEFB $81,$00,$76,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9164"></span>9164</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9168"></span>9168</td>
<td class="instruction">DEFB $6D,$00,$26,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="916c"></span>916C</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9170"></span>9170</td>
<td class="instruction">DEFB $6D,$00,$26,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9174"></span>9174</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9178"></span>9178</td>
<td class="instruction">DEFB $6D,$00,$26,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="917c"></span>917C</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9180"></span>9180</td>
<td class="instruction">DEFB $6D,$00,$26,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9184"></span>9184</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9188"></span>9188</td>
<td class="instruction">DEFB $6D,$00,$26,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="918c"></span>918C</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9190"></span>9190</td>
<td class="instruction">DEFB $6D,$00,$26,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9194"></span>9194</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="9198"></span>9198</td>
<td class="instruction">DEFB $6D,$00,$26,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="919c"></span>919C</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91a0"></span>91A0</td>
<td class="instruction">DEFB $6D,$00,$26,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91a4"></span>91A4</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91a8"></span>91A8</td>
<td class="instruction">DEFB $6D,$00,$26,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91ac"></span>91AC</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91b0"></span>91B0</td>
<td class="instruction">DEFB $6D,$00,$26,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91b4"></span>91B4</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91b8"></span>91B8</td>
<td class="instruction">DEFB $6D,$00,$26,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91bc"></span>91BC</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91c0"></span>91C0</td>
<td class="instruction">DEFB $6D,$00,$26,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91c4"></span>91C4</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91c8"></span>91C8</td>
<td class="instruction">DEFB $6D,$00,$25,$01</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91cc"></span>91CC</td>
<td class="instruction">DEFB $01,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91d0"></span>91D0</td>
<td class="instruction">DEFB $00,$1F,$01,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91d4"></span>91D4</td>
<td class="instruction">DEFB $00,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91d8"></span>91D8</td>
<td class="instruction">DEFB $00,$FF,$F0,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91dc"></span>91DC</td>
<td class="instruction">DEFB $00,$00,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91e0"></span>91E0</td>
<td class="instruction">DEFB $00,$FF,$00,$01</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91e4"></span>91E4</td>
<td class="instruction">DEFB $03,$06,$0D,$1B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91e8"></span>91E8</td>
<td class="instruction">DEFB $00,$00,$00,$B6</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91ec"></span>91EC</td>
<td class="instruction">DEFB $6D,$DB,$B6,$6D</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91f0"></span>91F0</td>
<td class="instruction">DEFB $DB,$36,$00,$C0</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91f4"></span>91F4</td>
<td class="instruction">DEFB $B6,$6D,$DB,$B6</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91f8"></span>91F8</td>
<td class="instruction">DEFB $6D,$DB,$01,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="91fc"></span>91FC</td>
<td class="instruction">DEFB $D8,$B6,$6D,$DB</td>
<td class="comment-1" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="909E.html">909E</a>
</td>
<td class="up">Up: <a href="../maps/all.html#90d0">Map</a></td>
<td class="next">
Next: <a href="9200.html">9200</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1985 Melbourne House</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.6.</div>
<div><a href="../dec/asm/37072.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>