<!DOCTYPE html>
<html>
<head>
<title>The Way Of The Exploding Fist: Routine at AB70</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="AADC.html">AADC</a>
</td>
<td class="up">Up: <a href="../maps/all.html#ab70">Map</a></td>
<td class="next">
Next: <a href="AC05.html">AC05</a>
</td>
</tr>
</table>
<div class="description">AB70: Demo Mode</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="AC05.html">Main_Game</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">Demo_Mode</td>
<td class="address-2"><span id="ab70"></span>AB70</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=00</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ab71"></span>AB71</td>
<td class="instruction">LD ($B05F),A</td>
<td class="comment-1" rowspan="2">Write 00 to; <ul class="">
<li><a href="B024.html#b05f">Current_Rank</a></li>
<li><a href="9C2C.html">Num_Players</a></li>
</ul></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ab74"></span>AB74</td>
<td class="instruction">LD ($9C2C),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ab77"></span>AB77</td>
<td class="instruction">CALL <a href="A3FF.html">Random_Number</a></td>
<td class="comment-1" rowspan="1">Call <a href="A3FF.html">Random_Number</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ab7a"></span>AB7A</td>
<td class="instruction">AND $03</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ab7c"></span>AB7C</td>
<td class="instruction">ADD A,$07</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ab7e"></span>AB7E</td>
<td class="instruction">LD ($AA94),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ab81"></span>AB81</td>
<td class="instruction">CALL <a href="A3FF.html">Random_Number</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ab84"></span>AB84</td>
<td class="instruction">AND $03</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ab86"></span>AB86</td>
<td class="instruction">ADD A,$07</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ab88"></span>AB88</td>
<td class="instruction">LD ($AA80),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ab8b"></span>AB8B</td>
<td class="instruction">LD A,$01</td>
<td class="comment-1" rowspan="3">Write 01 to; <ul class="">
<li><a href="AA41.html#aa46">AA46</a></li>
<li><a href="AA06.html">Is_Demo_Mode</a></li>
</ul></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ab8d"></span>AB8D</td>
<td class="instruction">LD ($AA46),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ab90"></span>AB90</td>
<td class="instruction">LD ($AA06),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ab93"></span>AB93</td>
<td class="instruction">INC A</td>
<td class="comment-1" rowspan="2">Write 02 to; <ul class="">
<li><a href="AF27.html#af34">AF34</a></li>
</ul></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ab94"></span>AB94</td>
<td class="instruction">LD ($AF34),A</td>
</tr>
<tr>
<td class="asm-label">Demo_Mode_0</td>
<td class="address-2"><span id="ab97"></span>AB97</td>
<td class="instruction">LD A,($AF34)</td>
<td class="comment-1" rowspan="1"><a href="AF27.html#af34">AF34</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ab9a"></span>AB9A</td>
<td class="instruction">CALL <a href="9200.html">$9200</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ab9d"></span>AB9D</td>
<td class="instruction">LD HL,$0222</td>
<td class="comment-1" rowspan="3">Point to <a href="B024.html#b039">Text_Demo</a> and call <a href="92E4.html">Print_String</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="aba0"></span>ABA0</td>
<td class="instruction">LD DE,$B039</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="aba3"></span>ABA3</td>
<td class="instruction">CALL <a href="92E4.html">Print_String</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="aba6"></span>ABA6</td>
<td class="instruction">LD HL,$B035</td>
<td class="comment-1" rowspan="2">Point to <a href="B024.html#b035">Hi_Score</a> and call <a href="A685.html">Print_HighScore</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="aba9"></span>ABA9</td>
<td class="instruction">CALL <a href="A685.html">Print_HighScore</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abac"></span>ABAC</td>
<td class="instruction">CALL <a href="909E.html">New_Round</a></td>
<td class="comment-1" rowspan="1">Call <a href="909E.html">New_Round</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abaf"></span>ABAF</td>
<td class="instruction">CALL <a href="AEF8.html">Init_Time</a></td>
<td class="comment-1" rowspan="1">Call <a href="AEF8.html">Init_Time</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abb2"></span>ABB2</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="2">Write 00 to; <ul class="">
<li>9C2B</li>
</ul></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abb3"></span>ABB3</td>
<td class="instruction">LD ($9C2B),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abb6"></span>ABB6</td>
<td class="instruction">CALL <a href="AB70.html#abc8">Demo_Mode_1</a></td>
<td class="comment-1" rowspan="1">Call <a href="AB70.html#abc8">Demo_Mode_1</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abb9"></span>ABB9</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abba"></span>ABBA</td>
<td class="instruction">RET M</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abbb"></span>ABBB</td>
<td class="instruction">CALL <a href="AF27.html">$AF27</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abbe"></span>ABBE</td>
<td class="instruction">LD HL,$B05F</td>
<td class="comment-1" rowspan="2">Point to <a href="B024.html#b05f">Current_Rank</a> and increment it by 1.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abc1"></span>ABC1</td>
<td class="instruction">INC (HL)</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abc2"></span>ABC2</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="3">If this value is not 04 then jump to <a href="AB70.html#ab97">Demo_Mode_0</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abc3"></span>ABC3</td>
<td class="instruction">CP $04</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abc5"></span>ABC5</td>
<td class="instruction">JR NZ,<a href="AB70.html#ab97">Demo_Mode_0</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abc7"></span>ABC7</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Else, return.</td>
</tr>
<tr>
<td class="asm-label">Demo_Mode_1</td>
<td class="address-2"><span id="abc8"></span>ABC8</td>
<td class="instruction">CALL <a href="AC3E.html#ae26">Start_1UP_Game_24</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abcb"></span>ABCB</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abcc"></span>ABCC</td>
<td class="instruction">RET M</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abcd"></span>ABCD</td>
<td class="instruction">CALL <a href="AF01.html">$AF01</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abd0"></span>ABD0</td>
<td class="instruction">JR Z,<a href="AB70.html#abf1">Demo_Mode_3</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abd2"></span>ABD2</td>
<td class="instruction">CALL <a href="900E.html">Yin_Yang_1UP</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abd5"></span>ABD5</td>
<td class="instruction">CALL <a href="AF36.html">$AF36</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abd8"></span>ABD8</td>
<td class="instruction">LD A,($AA03)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abdb"></span>ABDB</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abdc"></span>ABDC</td>
<td class="instruction">JR Z,<a href="AB70.html#abea">Demo_Mode_2</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abde"></span>ABDE</td>
<td class="instruction">LD A,($AA41)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abe1"></span>ABE1</td>
<td class="instruction">CP $04</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abe3"></span>ABE3</td>
<td class="instruction">JR C,<a href="AB70.html#abf1">Demo_Mode_3</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abe5"></span>ABE5</td>
<td class="instruction">CALL <a href="AC3E.html#ae9d">Start_1UP_Game_33</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abe8"></span>ABE8</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abe9"></span>ABE9</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Demo_Mode_2</td>
<td class="address-2"><span id="abea"></span>ABEA</td>
<td class="instruction">LD A,($AA01)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abed"></span>ABED</td>
<td class="instruction">CP $04</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abef"></span>ABEF</td>
<td class="instruction">JR NC,<a href="AB70.html#ac00">Demo_Mode_4</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Demo_Mode_3</td>
<td class="address-2"><span id="abf1"></span>ABF1</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abf2"></span>ABF2</td>
<td class="instruction">LD ($AA08),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abf5"></span>ABF5</td>
<td class="instruction">LD ($AA48),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abf8"></span>ABF8</td>
<td class="instruction">LD A,($9C2B)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abfb"></span>ABFB</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abfc"></span>ABFC</td>
<td class="instruction">JR Z,<a href="AB70.html#abc8">Demo_Mode_1</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abfe"></span>ABFE</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="abff"></span>ABFF</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Demo_Mode_4</td>
<td class="address-2"><span id="ac00"></span>AC00</td>
<td class="instruction">CALL <a href="AC3E.html#ae7a">Start_1UP_Game_30</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ac03"></span>AC03</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="ac04"></span>AC04</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="AADC.html">AADC</a>
</td>
<td class="up">Up: <a href="../maps/all.html#ab70">Map</a></td>
<td class="next">
Next: <a href="AC05.html">AC05</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1985 Melbourne House &copy; 2023 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.10.</div>
<div><a href="../dec/asm/43888.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>