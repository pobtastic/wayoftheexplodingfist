<!DOCTYPE html>
<html>
<head>
<title>The Way Of The Exploding Fist: Routine at 9255</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="37434.html">923A</a>
</td>
<td class="up">Up: <a href="../maps/all.html#37461">Map</a></td>
<td class="next">
Next: <a href="37604.html">92E4</a>
</td>
</tr>
</table>
<div class="description">9255: Copy yin-yang to screen.</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="36878.html">YIN_YANG_1UP</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="37461"></span>
<div class="comments">
<div class="paragraph">
On entry <span class="register">DE</span> points to a yin-yang UDG and <span class="register">HL</span> to screen coordinates; <table class="default">
<tr>
<th colspan="1" rowspan="1"><span class="register">DE</span></th>
<th colspan="2" rowspan="1">Yin-yang UDG</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1"><a href="37461.html#37546">$92AA</a></td>
<td class="centre" colspan="2" rowspan="1">Half</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1"><a href="37461.html#37514">$928A</a></td>
<td class="centre" colspan="2" rowspan="1">Full</td>
</tr>
<tr>
<th colspan="1" rowspan="1"><span class="register">HL</span></th>
<th colspan="2" rowspan="1">Screen Position</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$0108</td>
<td class="centre" colspan="1" rowspan="1">1</td>
<td class="centre" colspan="1" rowspan="1">8</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$0408</td>
<td class="centre" colspan="1" rowspan="1">4</td>
<td class="centre" colspan="1" rowspan="1">8</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$1A08</td>
<td class="centre" colspan="1" rowspan="1">26</td>
<td class="centre" colspan="1" rowspan="1">8</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$1D08</td>
<td class="centre" colspan="1" rowspan="1">29</td>
<td class="centre" colspan="1" rowspan="1">8</td>
</tr>
</table>
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">YIN_YANG_COPY</td>
<td class="address-2"><span id="37461"></span>9255</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="2">Stash yin-yang UDG and screen coordinates on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37462"></span>9256</td>
<td class="instruction">PUSH HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37463"></span>9257</td>
<td class="instruction">CALL <a href="37461.html#37578">YIN_YANG_COPY_LINE</a></td>
<td class="comment-1" rowspan="1">Call <a href="37461.html#37578">YIN_YANG_COPY_LINE</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37466"></span>925A</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="2">Restore yin-yang UDG and screen coordinates from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37467"></span>925B</td>
<td class="instruction">POP DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37468"></span>925C</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Keep a reference to <span class="register">HL</span> on the stack as we'll need to refer to it again later.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37469"></span>925D</td>
<td class="instruction">INC H</td>
<td class="comment-1" rowspan="1">Increase the LSB of <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37470"></span>925E</td>
<td class="instruction">LD BC,$0008</td>
<td class="comment-1" rowspan="5">Add $0008 to <span class="register">DE</span> and stash it on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37473"></span>9261</td>
<td class="instruction">EX DE,HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37474"></span>9262</td>
<td class="instruction">ADD HL,BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37475"></span>9263</td>
<td class="instruction">EX DE,HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37476"></span>9264</td>
<td class="instruction">PUSH DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37477"></span>9265</td>
<td class="instruction">CALL <a href="37461.html#37578">YIN_YANG_COPY_LINE</a></td>
<td class="comment-1" rowspan="1">Call <a href="37461.html#37578">YIN_YANG_COPY_LINE</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37480"></span>9268</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37481"></span>9269</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37482"></span>926A</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37483"></span>926B</td>
<td class="instruction">LD A,L</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37484"></span>926C</td>
<td class="instruction">ADD A,$08</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37486"></span>926E</td>
<td class="instruction">LD L,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37487"></span>926F</td>
<td class="instruction">LD BC,$0008</td>
<td class="comment-1" rowspan="5">Add $0008 to <span class="register">DE</span> and stash it on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37490"></span>9272</td>
<td class="instruction">EX DE,HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37491"></span>9273</td>
<td class="instruction">ADD HL,BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37492"></span>9274</td>
<td class="instruction">EX DE,HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37493"></span>9275</td>
<td class="instruction">PUSH DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37494"></span>9276</td>
<td class="instruction">CALL <a href="37461.html#37578">YIN_YANG_COPY_LINE</a></td>
<td class="comment-1" rowspan="1">Call <a href="37461.html#37578">YIN_YANG_COPY_LINE</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37497"></span>9279</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37498"></span>927A</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37499"></span>927B</td>
<td class="instruction">INC H</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37500"></span>927C</td>
<td class="instruction">LD A,L</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37501"></span>927D</td>
<td class="instruction">ADD A,$08</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37503"></span>927F</td>
<td class="instruction">LD L,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37504"></span>9280</td>
<td class="instruction">LD BC,$0008</td>
<td class="comment-1" rowspan="4">Add $0008 to <span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37507"></span>9283</td>
<td class="instruction">EX DE,HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37508"></span>9284</td>
<td class="instruction">ADD HL,BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37509"></span>9285</td>
<td class="instruction">EX DE,HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37510"></span>9286</td>
<td class="instruction">CALL <a href="37461.html#37578">YIN_YANG_COPY_LINE</a></td>
<td class="comment-1" rowspan="1">Call <a href="37461.html#37578">YIN_YANG_COPY_LINE</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37513"></span>9289</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="37514"></span>
<div class="comments">
<div class="paragraph">
Full yin-yang UDG.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">YIN_YANG_UDG_FULL</td>
<td class="address-1"><span id="37514"></span>928A</td>
<td class="instruction">DEFB $07,$18,$20,$46,$46,$80,$80,$80</td>
<td class="comment-1" rowspan="4"><img alt="full-yin-yang" src="../images/udgs/full-yin-yang.png" /></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37522"></span>9292</td>
<td class="instruction">DEFB $F0,$3C,$1E,$1E,$1F,$1F,$3F,$7F</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37530"></span>929A</td>
<td class="instruction">DEFB $81,$83,$87,$47,$47,$23,$1B,$07</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37538"></span>92A2</td>
<td class="instruction">DEFB $FF,$FF,$CF,$CE,$FE,$FC,$F8,$E0</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="37546"></span>
<div class="comments">
<div class="paragraph">
Half yin-yang UDG.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">YIN_YANG_UDG_HALF</td>
<td class="address-1"><span id="37546"></span>92AA</td>
<td class="instruction">DEFB $07,$18,$20,$46,$46,$80,$80,$80</td>
<td class="comment-1" rowspan="4"><img alt="half-yin-yang" src="../images/udgs/half-yin-yang.png" /></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37554"></span>92B2</td>
<td class="instruction">DEFB $C0,$20,$10,$10,$10,$10,$20,$C0</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37562"></span>92BA</td>
<td class="instruction">DEFB $81,$82,$84,$44,$44,$22,$1A,$07</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37570"></span>92C2</td>
<td class="instruction">DEFB $00,$00,$00,$00,$00,$00,$00,$80</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="37578"></span>
<div class="comments">
<div class="paragraph">
fff
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">YIN_YANG_COPY_LINE</td>
<td class="address-2"><span id="37578"></span>92CA</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="2">Stash <span class="register">DE</span> and <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37579"></span>92CB</td>
<td class="instruction">PUSH HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37580"></span>92CC</td>
<td class="instruction">LD A,L</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37581"></span>92CD</td>
<td class="instruction">CALL <a href="49667.html">SCREEN_CALC</a></td>
<td class="comment-1" rowspan="1">Call <a href="49667.html">SCREEN_CALC</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37584"></span>92D0</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1">Restore <span class="register">DE</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37585"></span>92D1</td>
<td class="instruction">LD E,D</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37586"></span>92D2</td>
<td class="instruction">LD D,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37588"></span>92D4</td>
<td class="instruction">ADD HL,DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37589"></span>92D5</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37590"></span>92D6</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37591"></span>92D7</td>
<td class="instruction">LD B,$08</td>
<td class="comment-1" rowspan="1">Set a counter of $08.</td>
</tr>
<tr>
<td class="asm-label">YIN_YANG_COPY_LOOP</td>
<td class="address-2"><span id="37593"></span>92D9</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="2">Copy a byte from <span class="register">HL</span> to <span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37594"></span>92DA</td>
<td class="instruction">LD (DE),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37595"></span>92DB</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increase <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37596"></span>92DC</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="3">Call <a href="37417.html">9229</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37597"></span>92DD</td>
<td class="instruction">CALL <a href="37417.html">$9229</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37600"></span>92E0</td>
<td class="instruction">EX DE,HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37601"></span>92E1</td>
<td class="instruction">DJNZ <a href="37461.html#37593">YIN_YANG_COPY_LOOP</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="37461.html#37593">YIN_YANG_COPY_LOOP</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="37603"></span>92E3</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="37434.html">923A</a>
</td>
<td class="up">Up: <a href="../maps/all.html#37461">Map</a></td>
<td class="next">
Next: <a href="37604.html">92E4</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1985 Melbourne House</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.4.</div>
</footer>
</body>
</html>